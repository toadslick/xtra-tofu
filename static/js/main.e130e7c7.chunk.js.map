{"version":3,"sources":["assets/knux.png","assets/snare.mp3","assets/kick.mp3","assets/reed.mp3","assets/hi-hat.mp3","assets/chord-am.mp3","assets/chord-c.mp3","assets/chord-d.mp3","assets/chord-g.mp3","components/Knuckle.js","utils/config.js","App.js","index.js"],"names":["module","exports","Knuckle","offset","width","active","style","height","backgroundImage","IMAGE_URL","backgroundPosition","position","overflow","left","top","right","bottom","opacity","transition","knuckles","keyCode","url","kick","snare","reed","hiHat","chordAm","chordC","chordD","chordG","buffers","forEach","obj","load","then","buffer","SCALE_PERCENT","App","useState","activeKeyCodes","setActiveKeyCodes","scale","setScale","setActive","appRef","useRef","useEffect","onKeyDown","play","start","autoplay","onKeyUp","window","addEventListener","removeEventListener","onSizeChange","current","offsetWidth","totalWidth","className","ref","transform","map","index","key","ReactDOM","render","document","getElementById"],"mappings":"+FAAAA,EAAOC,QAAU,IAA0B,kC,sBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,yLCkC5BC,EA5BC,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAOC,EAAlB,EAAkBA,OAAlB,OACd,yBACEC,MAAO,CACLF,QACAG,OANe,IAOfC,gBAAgB,OAAD,OAASC,IAAT,KACfC,mBAAmB,GAAD,QAAMP,EAAN,aAClBQ,SAAU,WACVC,SAAU,WAGZ,yBACEN,MAAO,CACLC,OAfa,IAgBbC,gBAAgB,OAAD,OAASC,IAAT,KACfC,mBAAmB,GAAD,QAAMP,EAAN,UAClBQ,SAAU,WACVE,KAAM,EACNC,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,QAASZ,EAAS,EAAI,EACtBa,WAAYb,EAAS,GAAK,kB,uJCjB5Bc,EAAW,CACf,CAAEf,MAAO,GAAIgB,QAAS,GAAIC,IAAKC,KAC/B,CAAElB,MAAO,GAAIgB,QAAS,GAAIC,IAAKE,KAC/B,CAAEnB,MAAO,GAAIgB,QAAS,GAAIC,IAAKG,KAC/B,CAAEpB,MAAO,GAAIgB,QAAS,GAAIC,IAAKI,KAC/B,CAAErB,MAAO,GAAIgB,QAAS,GAAIC,IAAKK,KAC/B,CAAEtB,MAAO,GAAIgB,QAAS,GAAIC,IAAKM,KAC/B,CAAEvB,MAAO,GAAIgB,QAAS,GAAIC,IAAKO,KAC/B,CAAExB,MAAO,GAAIgB,QAAS,GAAIC,IAAKQ,MAG3BC,EAAU,GAEZ3B,EAAS,EACbgB,EAASY,SAAQ,SAAAC,GACfA,EAAI7B,OAASA,EACbA,GAAU6B,EAAI5B,MACd6B,IAAKD,EAAIX,KAAKa,MAAK,SAAAC,GACjBL,EAAQE,EAAIZ,SAAWe,QCvB3B,IAAMC,EAAgB,GAiEPC,MA/Df,WAAgB,IAAD,EAC+BC,mBAAS,IADxC,mBACNC,EADM,KACUC,EADV,OAEaF,mBAAS,GAFtB,mBAENG,EAFM,KAECC,EAFD,OAGeJ,oBAAS,GAHxB,mBAGNjC,EAHM,KAGEsC,EAHF,KAIPC,EAASC,iBAAO,MAuCtB,OArCAC,qBAAU,WACR,IAAMC,EAAY,SAAC,GAAiB,IAAf3B,EAAc,EAAdA,QACfU,EAAQV,KACVmB,EAAenB,IAAW,EAC1BoB,EAAkB,eAAKD,IACnBT,EAAQV,IACV4B,IAAKlB,EAAQV,GAAU,CACrB6B,MAAO,EACPC,UAAU,IAGdP,GAAU,KAIRQ,EAAU,SAAC,GAAiB,IAAf/B,EAAc,EAAdA,eACVmB,EAAenB,GACtBoB,EAAkB,eAAKD,IACvBI,GAAU,IAKZ,OAFAS,OAAOC,iBAAiB,UAAWN,GACnCK,OAAOC,iBAAiB,QAASF,GAC1B,WACLC,OAAOE,oBAAoB,UAAWP,GACtCK,OAAOE,oBAAoB,QAASH,MAErC,IAEHL,qBAAU,WACR,IAAMS,EAAe,kBACnBb,EAASN,GAAiBQ,EAAOY,QAAQC,YAAcC,KAGzD,OAFAN,OAAOC,iBAAiB,SAAUE,GAClCA,IACO,kBAAMH,OAAOE,oBAAoB,SAAUC,MACjD,IAGD,yBACEI,UAAS,cAAStD,EAAS,aAAe,gBAC1CuD,IAAKhB,GAEL,yBAAKe,UAAU,eAAerD,MAAO,CAAEuD,UAAU,SAAD,OAAWpB,EAAX,OAC7CtB,EAAS2C,KAAI,WAAkCC,GAAlC,IAAG5D,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAOgB,EAAlB,EAAkBA,QAASC,EAA3B,EAA2BA,IAA3B,OACZ,kBAAC,EAAD,CACEhB,OAAQkC,EAAenB,GACvB4C,IAAKD,EACL5D,OAAQA,EACRkB,IAAKA,EACLjB,MAAOA,UC1DnB6D,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.e130e7c7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/knux.1d8677b8.png\";","module.exports = __webpack_public_path__ + \"static/media/snare.6f324831.mp3\";","module.exports = __webpack_public_path__ + \"static/media/kick.922fe955.mp3\";","module.exports = __webpack_public_path__ + \"static/media/reed.56085286.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hi-hat.3bd267b1.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chord-am.9d82e20f.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chord-c.723e3a08.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chord-d.a255a7eb.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chord-g.75368ffc.mp3\";","import React from 'react';\n\nimport IMAGE_URL from '../assets/knux.png';\n\nconst IMAGE_HEIGHT = 239;\n\nconst Knuckle = ({ offset, width, active }) => (\n  <div\n    style={{\n      width,\n      height: IMAGE_HEIGHT,\n      backgroundImage: `url(${IMAGE_URL})`,\n      backgroundPosition: `${-offset}px bottom`,\n      position: 'relative',\n      overflow: 'hidden',\n    }}\n  >\n    <div\n      style={{\n        height: IMAGE_HEIGHT,\n        backgroundImage: `url(${IMAGE_URL})`,\n        backgroundPosition: `${-offset}px top`,\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        opacity: active ? 0 : 1,\n        transition: active ? '' : 'opacity 1s',\n      }}\n    ></div>\n  </div>\n);\n\nexport default Knuckle;\n","import load from 'audio-loader';\n\nimport snare from '../assets/snare.mp3';\nimport kick from '../assets/kick.mp3';\nimport reed from '../assets/reed.mp3';\nimport hiHat from '../assets/hi-hat.mp3';\nimport chordAm from '../assets/chord-am.mp3';\nimport chordC from '../assets/chord-c.mp3';\nimport chordD from '../assets/chord-d.mp3';\nimport chordG from '../assets/chord-g.mp3';\n\nconst knuckles = [\n  { width: 78, keyCode: 37, url: kick },\n  { width: 54, keyCode: 38, url: snare },\n  { width: 71, keyCode: 40, url: reed },\n  { width: 73, keyCode: 39, url: hiHat },\n  { width: 77, keyCode: 32, url: chordAm },\n  { width: 68, keyCode: 71, url: chordC },\n  { width: 51, keyCode: 83, url: chordD },\n  { width: 80, keyCode: 87, url: chordG },\n];\n\nconst buffers = {};\n\nlet offset = 0;\nknuckles.forEach(obj => {\n  obj.offset = offset;\n  offset += obj.width;\n  load(obj.url).then(buffer => {\n    buffers[obj.keyCode] = buffer;\n  });\n});\n\nexport { knuckles, buffers, offset as totalWidth };\n","import React, { useEffect, useState, useRef } from 'react';\nimport play from 'audio-play';\n\nimport Knuckle from './components/Knuckle.js';\nimport { knuckles, buffers, totalWidth } from './utils/config';\n\nconst SCALE_PERCENT = 0.9;\n\nfunction App() {\n  const [activeKeyCodes, setActiveKeyCodes] = useState({});\n  const [scale, setScale] = useState(1);\n  const [active, setActive] = useState(false);\n  const appRef = useRef(null);\n\n  useEffect(() => {\n    const onKeyDown = ({ keyCode }) => {\n      if (buffers[keyCode]) {\n        activeKeyCodes[keyCode] = true;\n        setActiveKeyCodes({ ...activeKeyCodes });\n        if (buffers[keyCode]) {\n          play(buffers[keyCode], {\n            start: 0,\n            autoplay: true,\n          });\n        }\n        setActive(true);\n      }\n    };\n\n    const onKeyUp = ({ keyCode }) => {\n      delete activeKeyCodes[keyCode];\n      setActiveKeyCodes({ ...activeKeyCodes });\n      setActive(false);\n    };\n\n    window.addEventListener('keydown', onKeyDown);\n    window.addEventListener('keyup', onKeyUp);\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n      window.removeEventListener('keyup', onKeyUp);\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    const onSizeChange = () =>\n      setScale(SCALE_PERCENT * (appRef.current.offsetWidth / totalWidth));\n    window.addEventListener('resize', onSizeChange);\n    onSizeChange();\n    return () => window.removeEventListener('resize', onSizeChange);\n  }, []);\n\n  return (\n    <div\n      className={`App ${active ? 'App-active' : 'App-inactive'}`}\n      ref={appRef}\n    >\n      <div className=\"App-knuckles\" style={{ transform: `scale(${scale})` }}>\n        {knuckles.map(({ offset, width, keyCode, url }, index) => (\n          <Knuckle\n            active={activeKeyCodes[keyCode]}\n            key={index}\n            offset={offset}\n            url={url}\n            width={width}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}